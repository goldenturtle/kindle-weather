<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="utf-8">
    <title>Kindle Weather Final</title>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0; padding: 0;
            background-color: white; color: black;
            width: 758px; height: 1024px;
            overflow: hidden;
            font-family: "Noto Sans Devanagari", "Lohit Devanagari", "Arial Unicode MS", sans-serif;
            display: flex; flex-direction: column;
        }

        /* 1. HEADER */
        .header {
            background-color: black; color: white;
            height: 70px;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px;
        }
        .header-left { display: flex; flex-direction: column; }
        .city { font-size: 28px; font-weight: 900; text-transform: uppercase; line-height: 1; }
        .date { font-size: 20px; font-weight: 700; color: #ccc; }
        .header-tithi { font-size: 22px; font-weight: 700; }

        /* 2. HERO WITH ART */
        .hero {
            position: relative; /* For Art Positioning */
            height: 230px;
            border-bottom: 3px solid black;
            display: flex; align-items: center;
            padding: 10px 20px;
            overflow: hidden;
        }
        /* The Art sits behind the text */
        .hero-art-bg {
            position: absolute; right: -20px; top: 10px;
            width: 280px; height: 280px;
            opacity: 0.6; /* Subtle look */
            z-index: 0;
        }
        .hero-content { z-index: 1; display: flex; width: 100%; align-items: center; }
        .hero-left { width: 45%; }
        .main-temp { font-size: 140px; font-weight: 900; line-height: 1; letter-spacing: -6px; }
        .hero-right { width: 55%; padding-left: 10px; }
        .main-cond { font-size: 40px; font-weight: 900; margin-bottom: 5px; line-height: 1.1; }
        .summary { font-size: 22px; font-weight: 700; line-height: 1.3; }

        /* 3. HOURLY STRIP */
        .hourly-title { font-size: 20px; font-weight: 900; padding: 8px 20px 0; opacity: 0.7; text-transform: uppercase; }
        .hourly-container {
            display: flex; justify-content: space-between;
            padding: 5px 20px 15px;
            border-bottom: 3px solid black;
        }
        .hour-box {
            width: 23%; text-align: center;
            background: #f0f0f0; border-radius: 8px; padding: 8px 4px;
        }
        .h-time { font-size: 22px; font-weight: 900; margin-bottom: 2px; }
        .h-temp { font-size: 38px; font-weight: 900; line-height: 1; }
        .h-cond { font-size: 20px; font-weight: 700; height: 45px; display: flex; align-items: center; justify-content: center; line-height: 1; }
        .h-rain { font-size: 18px; font-weight: 900; color: #444; }

        /* 4. DETAILS GRID */
        .grid-container {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px;
            padding: 15px 20px; 
        }
        .detail-box {
            border: 3px solid black; border-radius: 12px;
            padding: 8px 15px;
        }
        .d-title { font-size: 20px; font-weight: 900; border-bottom: 2px solid black; margin-bottom: 4px; }
        .d-row { display: flex; justify-content: space-between; font-size: 24px; font-weight: 700; }

        /* 5. FORECAST */
        .forecast-container { padding: 5px 20px; border-top: 2px solid black; }
        .f-row {
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid #ccc; padding: 6px 0;
            font-size: 24px; font-weight: 700;
        }
        .f-row:last-child { border-bottom: none; }

        /* 6. SUVICHAR (QUOTE) - NEW SECTION */
        .quote-container {
            margin: 10px 20px;
            border: 3px solid black; border-radius: 12px;
            padding: 10px;
            text-align: center;
            flex-grow: 1; /* Fills remaining space */
            display: flex; flex-direction: column; justify-content: center;
        }
        .quote-label { font-size: 16px; font-weight: 900; text-transform: uppercase; border-bottom: 1px solid black; display: inline-block; margin: 0 auto 5px; }
        .quote-text { font-size: 22px; font-style: italic; font-weight: 700; line-height: 1.3; }

        /* 7. ASTRO STRIP */
        .astro-strip {
            background: black; color: white;
            padding: 8px 20px;
            display: flex; justify-content: space-between;
            font-size: 20px; font-weight: 900;
        }

        /* FOOTER */
        .footer { text-align: center; font-size: 12px; color: #666; background: #eee; padding: 2px; }

    </style>
</head>
<body>

    <div class="header">
        <div class="header-left">
            <div class="city" id="city">MUMBAI</div>
            <div class="date" id="date">--</div>
        </div>
        <div class="header-tithi" id="tithi">--</div>
    </div>

    <div class="hero">
        <div class="hero-content">
            <div class="hero-left">
                <div class="main-temp" id="temp">--</div>
            </div>
            <div class="hero-right">
                <div class="main-cond" id="cond">--</div>
                <div class="summary" id="summary">--</div>
            </div>
        </div>
        <div id="heroArt" class="hero-art-bg"></div>
    </div>

    <div class="hourly-title">‡§Ö‡§ó‡§≤‡•á 12 ‡§ò‡§Ç‡§ü‡•á</div>
    <div class="hourly-container" id="hourlyStrip"></div>

    <div class="grid-container">
        <div class="detail-box">
            <div class="d-title">‡§π‡§µ‡§æ ‡§î‡§∞ ‡§¨‡§æ‡§∞‡§ø‡§∂</div>
            <div class="d-row"><span>‡§π‡§µ‡§æ</span><span id="wind">--</span></div>
            <div class="d-row"><span>‡§ù‡•ã‡§Ç‡§ï‡•á</span><span id="gust">--</span></div>
            <div class="d-row"><span>‡§¨‡§æ‡§∞‡§ø‡§∂</span><span id="rain">--</span></div>
        </div>
        <div class="detail-box">
            <div class="d-title">‡§µ‡§æ‡§§‡§æ‡§µ‡§∞‡§£</div>
            <div class="d-row"><span>‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§§‡§æ</span><span id="hum">--</span></div>
            <div class="d-row"><span>‡§¶‡•É‡§∂‡•ç‡§Ø‡§§‡§æ</span><span id="vis">--</span></div>
            <div class="d-row"><span>UV</span><span id="uv">--</span></div>
        </div>
    </div>

    <div class="forecast-container" id="forecastRows"></div>

    <div class="quote-container">
        <div class="quote-label">‡§Ü‡§ú ‡§ï‡§æ ‡§∏‡•Å‡§µ‡§ø‡§ö‡§æ‡§∞</div>
        <div class="quote-text" id="quoteText">...</div>
    </div>

    <div class="astro-strip">
        <span id="sun-times">‚òÄÔ∏è --</span>
        <span id="moon-times">üåô --</span>
    </div>

    <div class="footer" id="footerMsg">Updated: --</div>

    <script>
        // === ASSETS ===
        const QUOTES_HI = [
            "‡§ï‡§∞‡•ç‡§Æ ‡§π‡•Ä ‡§™‡•Ç‡§ú‡§æ ‡§π‡•à‡•§", "‡§∏‡§§‡•ç‡§Ø‡§Æ‡•á‡§µ ‡§ú‡§Ø‡§§‡•á‡•§", "‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§µ‡•ã ‡§∂‡§ï‡•ç‡§§‡§ø ‡§π‡•à ‡§ú‡§ø‡§∏‡§∏‡•á ‡§â‡§ú‡§°‡§º‡•Ä ‡§π‡•Å‡§à ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§≤‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§",
            "‡§ú‡•Ä‡§µ‡§® ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§ó‡•Å‡§∞‡•Å ‡§µ‡§ï‡•ç‡§§ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§", "‡§ï‡§°‡§º‡•Ä ‡§Æ‡•á‡§π‡§®‡§§ ‡§ï‡§æ ‡§ï‡•ã‡§à ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§", "‡§ú‡•ã ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§Ö‡§ö‡•ç‡§õ‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
            "‡§ß‡•à‡§∞‡•ç‡§Ø ‡§ï‡§°‡§º‡§µ‡§æ ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§á‡§∏‡§ï‡§æ ‡§´‡§≤ ‡§Æ‡•Ä‡§†‡§æ ‡§π‡•à‡•§", "‡§∏‡§™‡§®‡•á ‡§µ‡•ã ‡§®‡§π‡•Ä‡§Ç ‡§ú‡•ã ‡§π‡§Æ ‡§∏‡•ã‡§§‡•á ‡§π‡•Å‡§è ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§∏‡§™‡§®‡•á ‡§µ‡•ã ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§π‡§Æ‡•á‡§Ç ‡§∏‡•ã‡§®‡•á ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á‡§§‡•á‡•§",
            "‡§∏‡§Æ‡§Ø ‡§î‡§∞ ‡§∏‡§Æ‡§ù ‡§è‡§ï ‡§∏‡§æ‡§• ‡§ñ‡•Å‡§∂‡§ï‡§ø‡§∏‡•ç‡§Æ‡§§ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•ã ‡§π‡•Ä ‡§Æ‡§ø‡§≤‡§§‡•á ‡§π‡•à‡§Ç‡•§", "‡§¨‡§°‡§º‡§æ ‡§∏‡•ã‡§ö‡•ã, ‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§∏‡•ã‡§ö‡•ã, ‡§Ü‡§ó‡•á ‡§∏‡•ã‡§ö‡•ã‡•§",
            "‡§ó‡§≤‡§§‡§ø‡§Ø‡§æ‡§Å ‡§á‡§∏ ‡§¨‡§æ‡§§ ‡§ï‡§æ ‡§∏‡§¨‡•Ç‡§§ ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§", "‡§Æ‡§Ç‡§ú‡§ø‡§≤‡•á‡§Ç ‡§â‡§®‡•ç‡§π‡•Ä‡§Ç ‡§ï‡•ã ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§®‡§ï‡•á ‡§∏‡§™‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§® ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
            "‡§Ö‡§™‡§®‡•á ‡§Ü‡§™ ‡§™‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§∞‡§ñ‡•ã, ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡•Å‡§ü‡•ç‡§†‡•Ä ‡§Æ‡•á‡§Ç ‡§π‡•ã‡§ó‡•Ä‡•§", "‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡§æ ‡§ï‡•ã‡§à ‡§∂‡•â‡§∞‡•ç‡§ü‡§ï‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡§æ‡•§",
            "‡§ú‡•ç‡§û‡§æ‡§® ‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§ï‡•ã‡§à ‡§Æ‡§ø‡§§‡•ç‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§î‡§∞ ‡§Ö‡§ú‡•ç‡§û‡§æ‡§® ‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§ï‡•ã‡§à ‡§∂‡§§‡•ç‡§∞‡•Å ‡§®‡§π‡•Ä‡§Ç‡•§", "‡§∂‡§æ‡§Ç‡§§‡§ø ‡§ï‡•Ä ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§Æ‡•Å‡§∏‡•ç‡§ï‡•Å‡§∞‡§æ‡§π‡§ü ‡§∏‡•á ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
            "‡§ï‡•ç‡§∞‡•ã‡§ß ‡§Æ‡•Ç‡§∞‡•ç‡§ñ‡§§‡§æ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§™‡§∂‡•ç‡§ö‡§æ‡§§‡§æ‡§™ ‡§™‡§∞ ‡§ñ‡§§‡•ç‡§Æ‡•§", "‡§µ‡§ï‡•ç‡§§ ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á‡§§‡§æ ‡§™‡§∞ ‡§¨‡§π‡•Å‡§§ ‡§ï‡•Å‡§õ ‡§¶‡§ø‡§ñ‡§æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§",
            "‡§ñ‡•Å‡§∂‡•Ä ‡§§‡§¨ ‡§Æ‡§ø‡§≤‡•á‡§ó‡•Ä ‡§ú‡§¨ ‡§Ü‡§™ ‡§ú‡•ã ‡§∏‡•ã‡§ö‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡•ã ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§ú‡•ã ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§â‡§∏‡§Æ‡•á‡§Ç ‡§∏‡§æ‡§Æ‡§Ç‡§ú‡§∏‡•ç‡§Ø ‡§π‡•ã‡•§", "‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§π‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§ß‡§® ‡§π‡•à‡•§",
            "‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§µ‡§π ‡§ß‡§® ‡§π‡•à ‡§ú‡§ø‡§∏‡•á ‡§ï‡•ã‡§à ‡§ö‡•Å‡§∞‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§∏‡§ï‡§§‡§æ‡•§", "‡§™‡§∞‡•ã‡§™‡§ï‡§æ‡§∞ ‡§π‡•Ä ‡§ú‡•Ä‡§µ‡§® ‡§ï‡§æ ‡§∏‡§æ‡§∞ ‡§π‡•à‡•§",
            "‡§∏‡§Ç‡§ó‡§§ ‡§ï‡§æ ‡§Ö‡§∏‡§∞ ‡§¨‡§π‡•Å‡§§ ‡§ó‡§π‡§∞‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§", "‡§Æ‡•Ä‡§†‡•Ä ‡§µ‡§æ‡§£‡•Ä ‡§¨‡•ã‡§≤‡§ø‡§è, ‡§Æ‡§® ‡§ï‡§æ ‡§Ü‡§™‡§æ ‡§ñ‡•ã‡§Ø‡•§",
            "‡§Ö‡§π‡§Ç‡§ï‡§æ‡§∞ ‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡§æ ‡§∂‡§§‡•ç‡§∞‡•Å ‡§π‡•à‡•§", "‡§∏‡§ö‡•ç‡§ö‡§æ‡§à ‡§™‡§∞‡•á‡§∂‡§æ‡§® ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à, ‡§™‡§∞‡§æ‡§ú‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç‡•§",
            "‡§Æ‡•á‡§π‡§®‡§§ ‡§á‡§§‡§®‡•Ä ‡§ñ‡§æ‡§Æ‡•ã‡§∂‡•Ä ‡§∏‡•á ‡§ï‡§∞‡•ã ‡§ï‡§ø ‡§∏‡§´‡§≤‡§§‡§æ ‡§∂‡•ã‡§∞ ‡§Æ‡§ö‡§æ ‡§¶‡•á‡•§", "‡§Ü‡§ú ‡§ï‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§≤ ‡§™‡§∞ ‡§Æ‡§§ ‡§õ‡•ã‡§°‡§º‡•ã‡•§",
            "‡§™‡•ç‡§∞‡§ï‡•É‡§§‡§ø ‡§Æ‡•á‡§Ç ‡§ó‡§π‡§∞‡§æ‡§à ‡§∏‡•á ‡§¶‡•á‡§ñ‡•ã, ‡§î‡§∞ ‡§§‡•Å‡§Æ ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§¨‡•á‡§π‡§§‡§∞ ‡§∏‡§Æ‡§ù‡•ã‡§ó‡•á‡•§", "‡§ú‡•Ä‡§µ‡§® ‡§è‡§ï ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§π‡•à, ‡§á‡§∏‡•á ‡§ú‡§ø‡§Ø‡•ã‡•§", "‡§π‡§Æ‡•á‡§∂‡§æ ‡§ñ‡•Å‡§∂ ‡§∞‡§π‡•ã‡•§"
        ];

        const ARTS = {
            sun: `<svg viewBox="0 0 100 100" fill="none" stroke="black" stroke-width="3"><circle cx="50" cy="50" r="20"/><path d="M50 10v15M50 75v15M10 50h15M75 50h15M22 22l10 10M68 68l10 10M22 78l10-10M68 32l10-10"/></svg>`,
            cloud: `<svg viewBox="0 0 100 100" fill="none" stroke="black" stroke-width="3"><path d="M25 60a15 15 0 0 1 0-30 18 18 0 0 1 35 0 12 12 0 0 1 0 24H25z"/></svg>`,
            rain: `<svg viewBox="0 0 100 100" fill="none" stroke="black" stroke-width="3"><path d="M25 50a15 15 0 0 1 0-30 18 18 0 0 1 35 0 12 12 0 0 1 0 24H25z"/><path d="M35 60l-5 15M50 60l-5 15M65 60l-5 15"/></svg>`,
            moon: `<svg viewBox="0 0 100 100" fill="none" stroke="black" stroke-width="3"><path d="M70 20 A 30 30 0 1 1 40 80 A 25 25 0 0 0 70 20 z"/></svg>`
        };

        const DAYS_HI = ["‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞", "‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞", "‡§Æ‡§Ç‡§ó‡§≤‡§µ‡§æ‡§∞", "‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞", "‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞", "‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞", "‡§∂‡§®‡§ø‡§µ‡§æ‡§∞"];
        const MONTHS_HI = ["‡§ú‡§®", "‡§´‡§∞", "‡§Æ‡§æ‡§∞‡•ç‡§ö", "‡§Ö‡§™‡•ç‡§∞‡•á‡§≤", "‡§Æ‡§à", "‡§ú‡•Ç‡§®", "‡§ú‡•Å‡§≤‡§æ‡§à", "‡§Ö‡§ó‡§∏‡•ç‡§§", "‡§∏‡§ø‡§§", "‡§Ö‡§ï‡•ç‡§§‡•Ç", "‡§®‡§µ", "‡§¶‡§ø‡§∏"];
        const WEATHER_MAP = { "Sunny": "‡§ñ‡§ø‡§≤‡•Ä ‡§ß‡•Ç‡§™", "Clear": "‡§∏‡§æ‡§´‡§º", "Partly cloudy": "‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§¨‡§æ‡§¶‡§≤", "Cloudy": "‡§¨‡§æ‡§¶‡§≤", "Overcast": "‡§ò‡§®‡•á ‡§¨‡§æ‡§¶‡§≤", "Mist": "‡§ï‡•ã‡§π‡§∞‡§æ", "Rain": "‡§¨‡§æ‡§∞‡§ø‡§∂", "Drizzle": "‡§¨‡•Ç‡§Ç‡§¶‡§æ‡§¨‡§æ‡§Ç‡§¶‡•Ä", "Thunder": "‡§§‡•Ç‡§´‡§æ‡§®", "Smoke": "‡§ß‡•Å‡§Ü‡§Ç", "Haze": "‡§ß‡•Å‡§Ç‡§ß" };

        function translate(text) {
            for (let k in WEATHER_MAP) { if (text.includes(k)) return WEATHER_MAP[k]; }
            return text;
        }

        // Tithi Calculation
        function getTithi(date) {
            const knownNewMoon = new Date('2000-01-06T18:14:00Z');
            const diff = (date - knownNewMoon) / (1000 * 60 * 60 * 24);
            const age = diff % 29.53;
            const idx = Math.floor((age / 29.53) * 30) + 1;
            const paksha = idx <= 15 ? "‡§∂‡•Å‡§ï‡•ç‡§≤" : "‡§ï‡•É‡§∑‡•ç‡§£";
            return `${idx <= 15 ? 'üåï' : 'üåë'} ${paksha} ‡§™‡§ï‡•ç‡§∑`;
        }

        function render(data) {
            if(!data || !data.current) return;
            const cur = data.current;
            const loc = data.location;
            const f = data.forecast.forecastday;
            const today = f[0];
            const now = new Date(loc.localtime);

            // 1. Header
            document.getElementById("city").innerText = loc.name;
            document.getElementById("date").innerText = `${DAYS_HI[now.getDay()]}, ${now.getDate()} ${MONTHS_HI[now.getMonth()]}`;
            document.getElementById("tithi").innerText = getTithi(now);

            // 2. Hero
            document.getElementById("temp").innerText = Math.round(cur.temp_c) + "¬∞";
            document.getElementById("cond").innerText = translate(cur.condition.text);
            document.getElementById("summary").innerText = `‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ${Math.round(today.day.maxtemp_c)}¬∞ ‚Ä¢ ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ${Math.round(today.day.mintemp_c)}¬∞ ‚Ä¢ ‡§¨‡§æ‡§∞‡§ø‡§∂ ${today.day.daily_chance_of_rain}%`;
            
            // Art Selection
            let art = ARTS.sun;
            const textLower = cur.condition.text.toLowerCase();
            const isNight = cur.is_day === 0;
            if (textLower.includes("rain") || textLower.includes("drizzle")) art = ARTS.rain;
            else if (textLower.includes("cloud") || textLower.includes("overcast") || textLower.includes("mist")) art = ARTS.cloud;
            else if (isNight) art = ARTS.moon;
            document.getElementById("heroArt").innerHTML = art;

            // 3. Hourly
            let allHours = [...today.hour, ...f[1].hour];
            const currentEpoch = cur.last_updated_epoch;
            let currentIndex = allHours.findIndex(h => h.time_epoch > currentEpoch);
            if(currentIndex === -1) currentIndex = 0;

            let hourlyHTML = "";
            [3, 6, 9, 12].forEach(offset => {
                const h = allHours[currentIndex + offset];
                if(h) {
                    const dateObj = new Date(h.time);
                    let hrs = dateObj.getHours();
                    const ampm = hrs >= 12 ? 'PM' : 'AM';
                    hrs = hrs % 12; hrs = hrs ? hrs : 12;
                    hourlyHTML += `
                    <div class="hour-box">
                        <div class="h-time">${hrs} ${ampm}</div>
                        <div class="h-temp">${Math.round(h.temp_c)}¬∞</div>
                        <div class="h-cond">${translate(h.condition.text)}</div>
                        <div class="h-rain">üíß ${h.chance_of_rain}%</div>
                    </div>`;
                }
            });
            document.getElementById("hourlyStrip").innerHTML = hourlyHTML;

            // 4. Details
            document.getElementById("wind").innerText = cur.wind_kph + " km";
            document.getElementById("gust").innerText = cur.gust_kph + " km";
            document.getElementById("rain").innerText = (cur.precip_mm || 0) + " mm";
            document.getElementById("hum").innerText = cur.humidity + "%";
            document.getElementById("vis").innerText = cur.vis_km + " km";
            document.getElementById("uv").innerText = cur.uv;

            // 5. Forecast
            let forecastHTML = "";
            for(let i=1; i<=2; i++) {
                const day = f[i];
                const dName = DAYS_HI[new Date(day.date).getDay()];
                forecastHTML += `
                <div class="f-row">
                    <div style="width:25%">${dName}</div>
                    <div style="width:35%">${translate(day.day.condition.text)}</div>
                    <div style="width:40%; text-align:right;">
                        ‚¨Ü${Math.round(day.day.maxtemp_c)}¬∞ ‚¨á${Math.round(day.day.mintemp_c)}¬∞
                    </div>
                </div>`;
            }
            document.getElementById("forecastRows").innerHTML = forecastHTML;

            // 6. Quote (Based on Day of Month)
            const quoteIndex = (now.getDate() - 1) % QUOTES_HI.length;
            document.getElementById("quoteText").innerText = `"${QUOTES_HI[quoteIndex]}"`;

            // 7. Astro
            document.getElementById("sun-times").innerText = `${today.astro.sunrise} - ${today.astro.sunset}`;
            document.getElementById("moon-times").innerText = `${today.astro.moonrise} - ${today.astro.moonset}`;

            document.getElementById("footerMsg").innerText = "Updated: " + loc.localtime.split(" ")[1];
        }

        document.addEventListener("DOMContentLoaded", () => {
            if (window.injectedData) render(window.injectedData);
        });
    </script>
</body>
</html>
